<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BetShopTV⦿com - Rifas</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&display=swap');

    /* Estilo Geral */
    body {
      margin: 0;
      font-family: 'Roboto Condensed', sans-serif;
      background-image: url("https://corhexa.com/png/600x300/bebaba");
      background-repeat: repeat;
      color: #2b2424;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    a {
      color: #ff0000;
      text-decoration: none;
      text-decoration-color: #ff0000;
    }
    a:hover {
      text-decoration: underline;
    }

    /* Cabeçalho padrão (computador) */
    header {
      width: 100%;
      height: auto;
      min-height: 25vh;
      padding: 20px 0;
      background-color: #ff0000;
      position: relative;
      overflow: hidden;
    }

    .header-video {
      position: absolute;
      top: 50%;
      left: 50%;
      height: 100%;
      width: auto;
      min-width: 100%;
      object-fit: cover;
      transform: translate(-50%, -50%);
      background-color: #ff0000;
    }

    /* Conteúdo Principal */
    main {
      width: 90%;
      max-width: 1200px;
      margin: 20px auto; /* auto para horizontal centering */
      /* text-align: center; /* This was on index.html's main, but content within rifas.html sections will be left-aligned */
    }

    /* Estilos específicos da página de rifas */
    .raffle-section, #selection-summary, #user-form-section {
      text-align: left; /* Override text-align:center from main if it was applied */
      margin-left: auto; /* Center these blocks if main is wider */
      margin-right: auto;
      max-width: 800px; /* Constrain width of these content blocks for better readability */
      margin-bottom: 30px;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
      background-color: #fff; /* Fundo branco para destacar as seções */
    }
    .raffle-section h2 {
      color: #FF0000; /* Red color like in index.html */
      text-align: center; /* Centraliza o título da seção */
      font-size: 1.8em; /* Similar to h1 in index.html's mobile view */
      margin-bottom: 10px;
    }
    .number-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); /* Adjusted minmax for new content */
      gap: 8px; /* Adjusted gap */
      margin-top: 10px;
    }
    /* Base .raffle-number style */
    .raffle-number {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 5px;
      min-height: 55px; 
      cursor: pointer;
      border-radius: 3px;
      text-align: center;
      /* transition: all 0.2s ease-in-out; */ /* Optional: for hover effects */
    }

    /* Base styling for .number-code and .number-name */
    .number-code {
      font-weight: bold;
      font-size: 0.9em;
      display: block;
    }
    .number-name {
      font-size: 0.7em;
      display: block;
      margin-top: 2px;
      line-height: 1.1;
    }

    /* State: Available */
    .raffle-number.available {
      border: 1px solid #ff0000;
      background-color: transparent;
      color: #ff0000; 
    }
    .raffle-number.available .number-code,
    .raffle-number.available .number-name {
      color: #ff0000;
    }

    /* State: Available Hover */
    .raffle-number.available:hover {
      border-color: #2b2424;
    }
    .raffle-number.available:hover .number-code,
    .raffle-number.available:hover .number-name {
      color: #2b2424;
    }

    /* State: Unavailable */
    .raffle-number.unavailable {
      border: 1px solid transparent; 
      background-color: transparent;
      color: #696969;
      cursor: not-allowed;
      text-decoration: line-through;
    }
    .raffle-number.unavailable .number-code,
    .raffle-number.unavailable .number-name {
      color: #696969;
      text-decoration: line-through; /* Ensure children also get line-through */
    }
    /* Ensure line-through doesn't get removed by other styles if needed */
    .raffle-number.unavailable * {
       /* text-decoration: line-through !important; /* Using more specific selectors first */
    }
     .raffle-number.unavailable .number-code, .raffle-number.unavailable .number-name {
        text-decoration: inherit !important; /* More specific way to ensure line-through */
    }


    /* State: Selected */
    .raffle-number.selected {
      border: 1px solid #FF0000; 
      background-color: #ffcc00; 
      color: #000000; 
    }
    .raffle-number.selected .number-code,
    .raffle-number.selected .number-name {
      color: #000000; 
      text-decoration: none; 
    }
    /* Remove line-through for selected items */
    .raffle-number.selected *, .raffle-number.selected {
        text-decoration: none !important;
    }
    #selection-summary {
      margin-top: 20px;
      padding: 15px;
      background-color: #f9f9f9; /* Specific background for summary */
      border: 1px solid #eee;
      border-radius: 5px;
      /* text-align: left; already set by the common rule */
    }
    #user-form-section {
      background-color: #f9f9f9; /* Specific background for form section */
    }
    #selection-summary h3 {
      margin-top: 0;
      color: #2b2424;
      text-align: center; /* Centraliza o título do sumário */
    }
    #selected-numbers-list span {
        display: inline-block;
        padding: 3px 7px;
        margin: 2px;
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 3px;
    }

    /* Estilos para o formulário de usuário */
    #user-form-section {
      margin-top: 30px;
      padding: 20px;
      /* background-color: #f9f9f9; already set by the common rule */
      /* border: 1px solid #eee; already set by the common rule */
      /* border-radius: 5px; already set by the common rule */
      /* text-align: left; already set by the common rule */
    }
    #user-form-section h3 {
      margin-top: 0;
      color: #2b2424;
      text-align: center; /* Centraliza o título da seção do formulário */
    }
    .form-group {
      margin-bottom: 15px;
    }
    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      color: #333;
    }
    .form-group input[type="text"],
    .form-group input[type="email"],
    .form-group input[type="tel"],
    .form-group input[type="file"] {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box; /* So padding doesn't add to width */
    }
    .form-group input[type="file"] {
      padding: 3px; /* Specific padding for file input */
    }

    .submit-raffle-button {
      display: block; /* Make it a block to take full width or center easily */
      width: fit-content;
      margin: 20px auto 0 auto; /* Center the button */
      padding: 12px 25px;
      font-size: 1.2em;
      font-weight: bold;
      color: white;
      background-color: #FF0000; /* Red background */
      border: none;
      border-radius: 5px;
      cursor: pointer;
      text-align: center;
    }
    .submit-raffle-button:hover {
      background-color: #cc0000; /* Darker red on hover */
    }
    #submission-instructions {
        margin-top: 15px;
        padding: 10px;
        background-color: #fff8e1; /* Light yellow background for instructions */
        border: 1px solid #ffecb3; /* Yellow border */
        border-radius: 4px;
        text-align: center;
    }

    /* Style for the 'Voltar à página inicial' link to look like a button */
    .back-to-home {
      display: inline-block;
      padding: 10px 15px;
      margin-top: 20px;
      margin-bottom: 20px; /* Espaço abaixo do botão */
      background-color: #2b2424;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      font-weight: bold;
    }
    .back-to-home:hover {
      background-color: #4c4444;
    }

    /* Responsividade: Celulares (até 768px) */
    @media (max-width: 768px) {
      .raffle-section h2 {
        font-size: 1.5em;
      }
      .number-grid {
        grid-template-columns: repeat(auto-fill, minmax(65px, 1fr)); /* Adjust for mobile */
        gap: 5px;
      }
      .raffle-number {
        padding: 5px;
        min-height: 45px; /* Adjust for mobile */
      }
      .number-code {
        font-size: 0.8em;
      }
      .number-name {
        font-size: 0.65em;
      }
      .submit-raffle-button {
        padding: 10px 20px;
        font-size: 1.1em;
      }
      #selection-summary p, #user-form-section label, #user-form-section input {
        font-size: 0.95em;
      }
      /* Ensure header responsiveness from index.html is maintained or added if missing */
      header {
        height: 112px;
        min-height: 112px;
        max-height: 112px;
        padding: 4px 4px;
      }
      .header-video {
        height: 100%;
        width: auto;
        min-width: 300%;
        object-fit: cover;
        object-position: center;
        transform: translate(-50%, -50%);
      }
       .form-group input[type="text"],
      .form-group input[type="email"],
      .form-group input[type="tel"],
      .form-group input[type="file"] {
        padding: 8px; /* Consistent padding for form inputs on mobile */
      }
    }
  </style>
</head>
<body>
  <!-- Cabeçalho -->
  <header>
    <video class="header-video" autoplay loop muted playsinline>
     <source src="images/base-02-cabe%C3%A7alho%202.mp4" type="video/mp4">
      Seu navegador não suporta a tag de vídeo.
    </video>
  </header>

  <!-- Conteúdo Principal -->
  <main>
    <section id="coluna-a" class="raffle-section">
      <h2>RIFA COLUNA A: <em>EVA TV Man</em></h2>
      <p>Selecione seus números abaixo:</p>
      <div class="number-grid">
        </div>
    </section>

    <section id="coluna-x" class="raffle-section">
      <h2>RIFA COLUNA X: <em>Chop Shop AV</em></h2>
      <p>Selecione seus números abaixo:</p>
      <div class="number-grid">
        </div>
    </section>

    <section id="selection-summary">
      <h3>Números Selecionados:</h3>
      <div id="selected-numbers-list">Nenhum número selecionado.</div>
      <p><strong>Total: R$ <span id="total-price">0</span></strong></p>
      <p><small><b>Preços:</b> 1 número = R$30; 2 números = R$50. <br>Para mais de 2 números, usamos a melhor combinação (ex: 3 números = R$80 (R$50+R$30), 4 números = R$100 (R$50+R$50)).</small></p>
    </section>

    <section id="user-form-section">
      <h3>Seus Dados para a Rifa</h3>
      <form id="raffle-user-form">
        <div class="form-group">
          <label for="fullName">Nome Completo:</label>
          <input type="text" id="fullName" name="fullName" required>
        </div>
        <div class="form-group">
          <label for="phone">Telefone (com DDD):</label>
          <input type="tel" id="phone" name="phone" required placeholder="(XX) XXXXX-XXXX">
        </div>
        <div class="form-group">
          <label for="email">E-mail:</label>
          <input type="email" id="email" name="email" required>
        </div>
        <div class="form-group">
          <label for="paymentProof">Comprovante de Pagamento (imagem ou PDF):</label>
          <input type="file" id="paymentProof" name="paymentProof" accept="image/*,.pdf" required>
        </div>
        <button type="submit" class="submit-raffle-button">Participar da Rifa</button>
      </form>
      <div id="submission-instructions" style="display: none;">
        <p><strong>Quase lá!</strong></p>
        <p>Seu e-mail está sendo preparado. Por favor, anexe o comprovante de pagamento antes de enviar.</p>
        <p>Você receberá a confirmação das suas apostas em até 36h após o envio do e-mail com o comprovante.</p>
      </div>
    </section>

    <a href="index.html" class="back-to-home">Voltar à página inicial</a>
  </main>

<br><br>
<br><br>
<br><br>
<br><br>
<br><br>
<br><br>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const itemNames = [
    "40 graus", "Abacaxi", "Abajur cor de carne", "Abortei o Cristo", "Absorvente íntimo", "Aduf", "Aeromoça", "Água de colônia", "Albergue", "Algodão doce",
    "Almanaque", "Almofada de veludo", "Amante latino", "Amarelo limão", "Ambulância", "Analfabeta", "Anão", "Anjo azul", "Antimatéria", "Aquarela",
    "Arco-íris", "Armadilha", "Arsênico", "Asa delta", "Assassinato na Catedral", "Autoflagelação", "Ave de rapina", "Azul da Prússia", "Chafariz da Praça", "Bacanal",
    "Bagagem", "Bala de hortelã", "Baleia", "Bambolê", "Banana split", "Banho de espuma", "Baranga", "Barbante", "Basquete", "Batata frita",
    "Batom", "Baunilha", "Bebê de proveta", "Beijo de Judas", "Bengalelê", "Berinjela", "Best-seller", "Beterraba", "Bicho de pelúcia", "Bidê",
    "Bigamia", "Bigode de arame", "Bijuteria", "Bikini", "Bilboquê", "Biônica", "Biruta", "Biscoito de polvilho", "Bleu, blanc, rouge", "Framboesa Radical",
    "Boca de sino", "Bofe de elite", "Boi garantido", "Bola de gude", "Bomba de chocolate", "Borboleta paraguaia", "Bracelete", "Brigitte Bardot", "Broche", "Bronzeador",
    "Bubble gum", "Bumerangue", "Buquê", "Butique", "Caatinga", "Cabaré", "Cabelo de anjo", "Cabra-cega", "Caça ao tesouro", "Cachorro quente",
    "Caderneta de poupança", "Cadeira de balanço", "Caixa de bombom", "Calcanhar de Aquiles", "Calcinha de nailon", "Caldo de galinha", "Cama de gato", "Camisola de cetim", "Cana de açúcar", "Canário",
    "Candelabro", "Cantiga de ninar", "Capitalismo selvagem", "Capuz", "Cara de anjo", "Caravela", "Carbureto", "Carro de bombeiro", "Casa da mãe Joana", "Castelo de areia",
    "Catavento", "Cavalo marinho", "Caverna do dragão", "Cela de prisão", "Celofane", "Cemitério", "Censura", "Cerca elétrica", "Cesta básica", "Cetim",
    "Chacrinha", "Champagne", "Chantili", "Chapéu de coco", "Charada", "Cheque sem fundo", "Chiclete de bola", "Chimpanzé", "Chinelo de dedo", "Chocolate com pimenta",
    "Choque anafilático", "Chupeta", "Cíclope", "Cigarro de palha", "Clone", "Club privé", "Cobertor de papa", "Cobra de estimação", "Cofrinho", "Cogumelo atômico",
    "Coiote", "Colar de diamantes", "Colecionador de selos", "Come-quieto", "Comida caseira", "Complexo de Édipo", "Computador central", "Conde Drácula", "Contrabando", "Conversa pra boi dormir",
    "Copo de leite", "Cor de burro quando foge", "Cor-de-rosa choque", "Corda bamba", "Corrente de prata", "Crime organizado", "Crise de identidade", "Crista de galo", "Crocodilo", "Cruz vermelha",
    "Cubo mágico", "Cueca de homem", "Cyborg", "Dama da noite", "Deby Loide", "Decote", "Dedetizar", "Dedo de moça", "Deflorada", "Dente de leão",
    "Desenho animado", "Deserto do Saara", "Diabo verde", "Disco de vinil", "Disque-sexo", "Ditadura", "Doce de batata doce", "Dom Quixote", "Domingo no parque", "Doping"
  ];

  const soldItemsA = ["A029", "A060"];
  const soldItemsX = ["X029", "X060"];

  function populateGrid(gridId, columnPrefix, soldItemsList) {
    const grid = document.querySelector(gridId + ' .number-grid');
    grid.innerHTML = ''; // Clear existing items

    for (let i = 1; i <= 170; i++) {
      const numberStr = String(i).padStart(3, '0');
      const itemCode = columnPrefix + numberStr;
      const itemName = itemNames[i-1] || "Item " + itemCode; // Fallback name
      const isSold = soldItemsList.includes(itemCode);

      const raffleNumberDiv = document.createElement('div');
      raffleNumberDiv.classList.add('raffle-number');
      raffleNumberDiv.classList.add(isSold ? 'unavailable' : 'available');
      raffleNumberDiv.dataset.number = itemCode; // Use itemCode as data-number for uniqueness
      raffleNumberDiv.dataset.name = itemName;

      const numberCodeSpan = document.createElement('span');
      numberCodeSpan.classList.add('number-code');
      numberCodeSpan.textContent = itemCode;

      const numberNameSpan = document.createElement('span');
      numberNameSpan.classList.add('number-name');
      numberNameSpan.textContent = itemName;

      raffleNumberDiv.appendChild(numberCodeSpan);
      raffleNumberDiv.appendChild(numberNameSpan);
      grid.appendChild(raffleNumberDiv);
    }
  }

  populateGrid('#coluna-a', 'A', soldItemsA);
  populateGrid('#coluna-x', 'X', soldItemsX);

  const numberGrids = document.querySelectorAll('.number-grid');
  const selectedNumbersList = document.getElementById('selected-numbers-list');
  const totalPriceDisplay = document.getElementById('total-price');
  let selectedNumbers = [];

  numberGrids.forEach(grid => {
    grid.addEventListener('click', (event) => {
      const target = event.target.closest('.raffle-number'); // Ensure click on child elements selects the parent
      if (target && target.classList.contains('available')) {
        const itemCode = target.dataset.number; // This is now AXXX or XXXX
        // const itemName = target.dataset.name; // If needed later

        const itemName = target.dataset.name; 

        if (target.classList.contains('selected')) {
          target.classList.remove('selected');
          selectedNumbers = selectedNumbers.filter(item => item.id !== itemCode);
        } else {
          target.classList.add('selected');
          selectedNumbers.push({ id: itemCode, name: itemName }); // Store id (code) and name
        }
        updateSelectionSummary();
      }
    });
  });

  function updateSelectionSummary() {
    if (selectedNumbers.length === 0) {
      selectedNumbersList.innerHTML = 'Nenhum número selecionado.'; // Use innerHTML to clear previous spans
    } else {
      // Display both code and name
      selectedNumbersList.innerHTML = selectedNumbers.map(item => `<span style="display: block; margin-bottom: 5px;">${item.id} ⩺ ${item.name}</span>`).join('');
    }
    calculatePrice();
  }

  function calculatePrice() {
    const count = selectedNumbers.length;
    let price = 0;
    if (count === 1) {
      price = 30;
    } else if (count === 2) {
      price = 50;
    } else if (count > 2) {
      let pairs = Math.floor(count / 2);
      let singles = count % 2;
      price = (pairs * 50) + (singles * 30);
    }
    totalPriceDisplay.textContent = price;
  }

  const raffleForm = document.getElementById('raffle-user-form');
  const submissionInstructions = document.getElementById('submission-instructions');

  raffleForm.addEventListener('submit', function(event) {
    event.preventDefault(); 

    const fullName = document.getElementById('fullName').value;
    const phone = document.getElementById('phone').value;
    const email = document.getElementById('email').value;
    const paymentProofFile = document.getElementById('paymentProof').files[0]; 

    if (selectedNumbers.length === 0) {
      alert('Por favor, selecione pelo menos um número para a rifa.');
      return;
    }

    if (!fullName || !phone || !email) {
      alert('Por favor, preencha todos os seus dados (Nome, Telefone, E-mail).');
      return;
    }
    
    if (!paymentProofFile) {
      alert('Por favor, anexe o comprovante de pagamento.');
      return;
    }

    let emailBody = `Olá, gostaria de participar da rifa com os seguintes detalhes:\n\n`;
    emailBody += `Nome Completo: ${fullName}\n`;
    emailBody += `Telefone: ${phone}\n`;
    emailBody += `E-mail: ${email}\n\n`;
    emailBody += `Números Selecionados (Código ⩺ Nome):\n`;
    selectedNumbers.forEach(item => {
      emailBody += `- ${item.id} ⩺ ${item.name}\n`; 
    });
    emailBody += `\nTotal Calculado: R$${totalPriceDisplay.textContent}\n\n`;
    emailBody += `---Comprovante de Pagamento anexado a este e-mail---`;

    const mailtoLink = \`mailto:betshoptv@gmail.com?subject=${encodeURIComponent('Participação na Rifa BetShopTV')}&body=${encodeURIComponent(emailBody)}\`;

    submissionInstructions.style.display = 'block';
    window.location.href = mailtoLink;
  });
});
</script>

</body>
</html>
